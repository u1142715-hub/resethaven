---
import BaseLayout from "../layouts/BaseLayout.astro";
import Section from "../components/ui/Section.astro";
import ArticleList from "../components/content/ArticleList.astro";
import ArtworkCarousel from "../components/content/ArtworkCarousel.astro";
import { getCollection } from "astro:content";

const base = import.meta.env.BASE_URL || "/";

const SAATCHI_PROFILE_URL = "https://www.saatchiart.com/en-au/solara-meridian-studio/";
const REDBUBBLE_URL = "https://www.redbubble.com/people/SamFrederiksen/shop/";
const DOWNLOAD_URL = "https://resethaven.gumroad.com//";

const articles = (await getCollection("articles"))
  .sort((a, b) => (b.data.publishedAt as Date).getTime() - (a.data.publishedAt as Date).getTime())
  .slice(0, 3);

const featuredArtworks = [
  {
    id: "liferesetpro-01",
    data: {
      title: "This Is Where The Spin Stops",
      slug: "this-is-where-the-spin-stops",
      thumbnail: `${base}images/LifeResetProImages/LifeResetPro1.jpg`,
      saatchiUrl: DOWNLOAD_URL,
      alt: "A calm dark background with a gold path motif and the text: This is where the spin stops.",
    },
  },
  {
    id: "liferesetpro-02",
    data: {
      title: "You Can Start Again Without Failing",
      slug: "you-can-start-again-without-failing",
      thumbnail: `${base}images/LifeResetProImages/LifeResetPro2.jpg`,
      saatchiUrl: DOWNLOAD_URL,
      alt: "A calm dark background with a gold path motif and the text: You can start again without failing.",
    },
  },
  {
    id: "liferesetpro-03",
    data: {
      title: "Less Thinking, More Relief",
      slug: "less-thinking-more-relief",
      thumbnail: `${base}images/LifeResetProImages/LifeResetPro3.jpg`,
      saatchiUrl: DOWNLOAD_URL,
      alt: "A calm dark background with a gold path motif and the text: Less thinking, more relief.",
    },
  },
  {
    id: "liferesetpro-04",
    data: {
      title: "Small Actions Still Count",
      slug: "small-actions-still-count",
      thumbnail: `${base}images/LifeResetProImages/LifeResetPro4.jpg`,
      saatchiUrl: DOWNLOAD_URL,
      alt: "A calm dark background with a gold path motif and the text: Small actions still count.",
    },
  },
  {
    id: "liferesetpro-05",
    data: {
      title: "You Don’t Need A Plan, You Need A Start",
      slug: "you-dont-need-a-plan-you-need-a-start",
      thumbnail: `${base}images/LifeResetProImages/LifeResetPro5.jpg`,
      saatchiUrl: DOWNLOAD_URL,
      alt: "A calm dark background with a gold path motif and the text: You don’t need a plan, you need a start.",
    },
  },
  {
    id: "liferesetpro-06",
    data: {
      title: "Just Take The Next Step",
      slug: "just-take-the-next-step",
      thumbnail: `${base}images/LifeResetProImages/LifeResetPro6.jpg`,
      saatchiUrl: DOWNLOAD_URL,
      alt: "A calm dark background with a gold path motif and the text: Just take the next step.",
    },
  },
];
---

<BaseLayout
  title="ResetHaven"
  description="A practical stabilisation-first reset system for clearer days and steady follow-through."
>
  <!-- HERO -->
  <section class="hero">
    <div class="container hero__inner">
      <div>
        <div class="hero__kicker">ResetHaven</div>
        <h1 class="hero__title">
          When life feels too much, start smaller than you think you should.
        </h1>
        <p class="hero__subtitle">
          ResetHaven is a calm, phone-friendly system built for overloaded days—when energy is low, the house feels messy, admin feels heavy, and planning feels impossible.
        </p>
        <p class="hero__subtitle">
          You don’t need motivation. You need a safe next step that reduces pressure and restores control.
        </p>
        <div class="hero__actions">
          <a class="btn btn--primary btn--block-mobile" href={`${base}LifeResetPro/`}>Quick Start</a>
          <a class="btn btn--ghost btn--block-mobile" href={`${base}articles/`}>Learn More</a>
          <a class="btn btn--ghost btn--block-mobile" href={`${base}about/`}>About the ResetHaven</a>
        </div>

        <div class="hero__meta">
          Purchases and fulfilment are handled securely through Gumroad.
        </div>
      </div>

      <div class="hero__media">
        <div class="hero__media-inner">
          <div class="card">
            <div class="card__eyebrow">How To Start</div>
            <div class="card__title">A stabilisation-first reset</div>
            <p class="card__body">
              This is designed to calm things down before you try to “fix everything.”
              The focus is simple: reduce overwhelm, shrink the horizon, and make the next action obvious.
            </p>
            <p class="card__body">
              You move forward with small, finishable steps—plus clear permission to delay the decisions that can wait—so momentum returns without overload.
            </p>
            <div class="mt-2">
              <a class="btn btn--subtle btn--block" href={`${base}LifeResetPro/`}>Open Quick Start</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY / BENEFITS -->
  <Section variant="alt">
    <div class="container">
      <div class="section__heading">
        <div class="section__eyebrow">Why it helps</div>
        <h2 class="section__title">Less chaos. More clarity. Without forcing intensity.</h2>
      </div>

      <div class="grid grid--3">
        <div class="card">
          <div class="card__title">Overwhelm reduces when the next step is small</div>
          <p class="card__body">
            When everything feels urgent, the mind freezes. ResetHaven starts with actions that are deliberately small—so you can actually complete them and feel control return.
          </p>
        </div>

        <div class="card">
          <div class="card__title">Short-horizon planning that doesn’t collapse</div>
          <p class="card__body">
            Instead of trying to plan a whole new life, you work inside a short, manageable window.
            This lowers decision fatigue and helps you stabilise what matters first.
          </p>
        </div>

        <div class="card">
          <div class="card__title">Stabilisers for real-world pressure points</div>
          <p class="card__body">
            Money stress, home mess, admin backlog, support needs, mindset spirals—handled as practical stabilisers that reduce avoidance and rebuild follow-through.
          </p>
        </div>
      </div>
    </div>
  </Section>

  <!-- FEATURED WORKS -->
  <Section>
    <div class="container">
      <div class="section__heading">
        <div class="section__eyebrow">Visual tone</div>
        <h2 class="section__title">A calm atmosphere that supports focus and steady attention</h2>
      </div>

      <ArtworkCarousel artworks={featuredArtworks} label="Calm visual cues for a stabilisation-first reset" />

      <div class="mt-3 text-center">
        <a class="btn btn--primary btn--block-mobile" href={`${base}LifeResetPro/`}>Start with Quick Start</a>
        <a class="btn btn--ghost btn--block-mobile" href={DOWNLOAD_URL} target="_blank" rel="noopener noreferrer">
          Secure checkout on Gumroad
        </a>
      </div>
    </div>
  </Section>

  <!-- ROUTING / STORES (PRIMARY + SOFT OVERFLOW) -->
  <Section variant="alt">
    <div class="container">
      <div class="cta">
        <div class="cta__eyebrow">Begin</div>
        <div class="cta__title">Start small, stabilise first, then rebuild at your pace.</div>
        <p class="cta__body">
          ResetHaven is designed to work even when you’re tired.
          The aim is not a perfect day—just a calmer day with fewer loose ends and a clearer next step.
        </p>

        <div class="mt-2">
          <a class="btn btn--primary btn--block-mobile" href={`${base}LifeResetPro/`}>Go to Quick Start</a>
          <a
            class="btn btn--ghost btn--block-mobile"
            href={DOWNLOAD_URL}
            target="_blank"
            rel="noopener noreferrer"
          >
            Get it on Gumroad
          </a>
        </div>

        <p class="cta__body" style="margin-top: 1rem; opacity: 0.85;">
          Until dedicated ResetHaven visuals are added, the carousel imagery remains from the existing studio library.
          If you’d like to explore the studio separately:{" "}
          <a href={SAATCHI_PROFILE_URL} target="_blank" rel="noopener noreferrer">Saatchi Art</a>
          {" "}and{" "}
          <a href={REDBUBBLE_URL} target="_blank" rel="noopener noreferrer">Redbubble</a>.
        </p>
      </div>
    </div>
  </Section>

  <!-- ARTICLES (SUPPORTING DISCOVERY LAYER) -->
  {articles.length > 0 && (
    <Section>
      <div class="container">
        <div class="section__heading">
          <div class="section__eyebrow">Notes</div>
          <h2 class="section__title">Simple guidance that supports stability and follow-through.</h2>
        </div>

        <ArticleList articles={articles} />

        <div class="mt-3 text-center">
          <a class="btn btn--ghost btn--block-mobile" href={`${base}articles/`}>View all articles</a>
        </div>
      </div>
    </Section>
  )}
</BaseLayout>
